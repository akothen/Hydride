<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><title>VPIDR</title><link href="insn.css" rel="stylesheet" type="text/css"/></head><body><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old">(old) </td><td class="explain">htmldiff from-</td><td class="new">(new) </td></tr></tbody></table></div><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><hr/><h1 class="register-section">VPIDR, Virtualization Processor ID Register</h1><p>The VPIDR characteristics are:</p><h2>Purpose</h2><p>Holds the value of the Virtualization Processor ID. This is the value returned by Non-secure EL1 reads of <a href="AArch32-midr.html">MIDR</a>.</p><h2>Configuration</h2><p>AArch32 System register VPIDR bits [31:0]
            
                are architecturally mapped to
              AArch64 System register <a href="AArch64-vpidr_el2.html">VPIDR_EL2[31:0]
            </a>.
          </p><p><ins>This register is present only
    when AArch32 is supported at any Exception level.
      
    Otherwise, direct accesses to VPIDR are </ins><span class="arm-defined-word"><ins>UNKNOWN</ins></span><ins>.</ins></p><p>If EL2 is not implemented but EL3 is implemented, this register takes the value of the <a href="AArch32-midr.html">MIDR</a>.</p><p><del class="nocount">
                Some or all RW fields of this register have defined reset values.
                
        These apply
      
                only if the PE resets into EL2
                
                  with EL2 using AArch32,
                
                or into
                
                    EL3 with EL3 using AArch32.
                  
                Otherwise,
                
                RW fields in this register reset to architecturally </del><span class="arm-defined-word"><del class="nocount">UNKNOWN</del></span><del class="nocount"> values.
              </del></p><h2>Attributes</h2><p>VPIDR is a 32-bit register.</p><h2>Field descriptions</h2><p>The VPIDR bit assignments are:</p><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="lr" colspan="8"><a href="#Implementer_31">Implementer</a></td><td class="lr" colspan="4"><a href="#Variant_23">Variant</a></td><td class="lr" colspan="4"><a href="#Architecture_19">Architecture</a></td><td class="lr" colspan="12"><a href="#PartNum_15">PartNum</a></td><td class="lr" colspan="4"><a href="#Revision_3">Revision</a></td></tr></tbody></table><div class="text_before_fields"></div><h4 id="Implementer_31">Implementer, bits [31:24]
                  </h4><p>The Implementer code. This field must hold an implementer code that has been assigned by Arm. Assigned codes include the following:</p><table class="valuetable"><thead><tr><th>Hex representation</th><th>ASCII representation</th><th>Implementer</th></tr></thead><tbody><tr><td><span class="hexnumber">0x41</span></td><td>A</td><td>Arm Limited</td></tr><tr><td><span class="hexnumber">0x42</span></td><td>B</td><td>Broadcom Corporation</td></tr><tr><td><span class="hexnumber">0x43</span></td><td>C</td><td>Cavium Inc.</td></tr><tr><td><span class="hexnumber">0x44</span></td><td>D</td><td>Digital Equipment Corporation</td></tr><tr><td><span class="hexnumber">0x49</span></td><td>I</td><td>Infineon Technologies AG</td></tr><tr><td><span class="hexnumber">0x4D</span></td><td>M</td><td>Motorola or Freescale Semiconductor Inc.</td></tr><tr><td><span class="hexnumber">0x4E</span></td><td>N</td><td>NVIDIA Corporation</td></tr><tr><td><span class="hexnumber">0x50</span></td><td>P</td><td>Applied Micro Circuits Corporation</td></tr><tr><td><span class="hexnumber">0x51</span></td><td>Q</td><td>Qualcomm Inc.</td></tr><tr><td><span class="hexnumber">0x56</span></td><td>V</td><td>Marvell International Ltd.</td></tr><tr><td><span class="hexnumber">0x69</span></td><td>i</td><td>Intel Corporation</td></tr></tbody></table><p>Arm can assign codes that are not published in this manual. All values not assigned by Arm are reserved and must not be used.</p><p>In a system where the PE resets into EL2 or EL3, this field resets to the value in <a href="AArch32-midr.html">MIDR</a>.Implementer.</p><h4 id="Variant_23">Variant, bits [23:20]
                  </h4><p>An <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> variant number. Typically, this field is used to distinguish between different product variants, or major revisions of a product.</p><p>In a system where the PE resets into EL2 or EL3, this field resets to the value in <a href="AArch32-midr.html">MIDR</a>.Variant.</p><h4 id="Architecture_19">Architecture, bits [19:16]
                  </h4><p>The permitted values of this field are:</p><table class="valuetable"><tr><th>Architecture</th><th>Meaning</th></tr><tr><td class="bitfield">0b0001</td><td><p>Armv4.</p></td></tr><tr><td class="bitfield">0b0010</td><td><p>Armv4T.</p></td></tr><tr><td class="bitfield">0b0011</td><td><p>Armv5 (obsolete).</p></td></tr><tr><td class="bitfield">0b0100</td><td><p>Armv5T.</p></td></tr><tr><td class="bitfield">0b0101</td><td><p>Armv5TE.</p></td></tr><tr><td class="bitfield">0b0110</td><td><p>Armv5TEJ.</p></td></tr><tr><td class="bitfield">0b0111</td><td><p>Armv6.</p></td></tr><tr><td class="bitfield">0b1111</td><td><p>Architectural features are individually identified in the ID_* registers, see <span class="xref">'ID registers' in the Arm® Architecture Reference Manual, Armv8, for Armv8-A architecture profile, section K12.5.3</span>.</p></td></tr></table><p>All other values are reserved.</p><p>In a system where the PE resets into EL2 or EL3, this field resets to the value in <a href="AArch32-midr.html">MIDR</a>.Architecture.</p><h4 id="PartNum_15">PartNum, bits [15:4]
                  </h4><p>An <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> primary part number for the device.</p><p>On processors implemented by Arm, if the top four bits of the primary part number are <span class="hexnumber">0x0</span> or <span class="hexnumber">0x7</span>, the variant and architecture are encoded differently.</p><p>In a system where the PE resets into EL2 or EL3, this field resets to the value in <a href="AArch32-midr.html">MIDR</a>.PartNum.</p><h4 id="Revision_3">Revision, bits [3:0]
                  </h4><p>An <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> revision number for the device.</p><p>In a system where the PE resets into EL2 or EL3, this field resets to the value in <a href="AArch32-midr.html">MIDR</a>.Revision.</p><div class="text_after_fields"></div><div class="access_mechanisms"><h2>Accessing the VPIDR</h2><p>Accesses to this register use the following encodings:</p><h4 class="assembler">MRC{&lt;c>}{&lt;q>} &lt;coproc>, {#}&lt;opc1>, &lt;Rt>, &lt;CRn>, &lt;CRm>{, {#}&lt;opc2>}</h4><table class="access_instructions"><tr><th>coproc</th><th>opc1</th><th>CRn</th><th>CRm</th><th>opc2</th></tr><tr><td>0b1111</td><td>0b100</td><td>0b0000</td><td>0b0000</td><td>0b000</td></tr></table><p class="pseudocode">
if PSTATE.EL == EL0 then
    UNDEFINED;
elsif PSTATE.EL == EL1 then
    if EL2Enabled() &amp;&amp; !ELUsingAArch32(EL2) &amp;&amp; HSTR_EL2.T0 == '1' then
        AArch64.AArch32SystemAccessTrap(EL2, 0x03);
    elsif EL2Enabled() &amp;&amp; ELUsingAArch32(EL2) &amp;&amp; HSTR.T0 == '1' then
        AArch32.TakeHypTrapException(0x03);
    else
        UNDEFINED;
elsif PSTATE.EL == EL2 then
    return VPIDR;
elsif PSTATE.EL == EL3 then
    if !HaveEL(EL2) then
        return MIDR;
    elsif SCR.NS == '0' then
        UNDEFINED;
    else
        return VPIDR;
              </p><h4 class="assembler">MCR{&lt;c>}{&lt;q>} &lt;coproc>, {#}&lt;opc1>, &lt;Rt>, &lt;CRn>, &lt;CRm>{, {#}&lt;opc2>}</h4><table class="access_instructions"><tr><th>coproc</th><th>opc1</th><th>CRn</th><th>CRm</th><th>opc2</th></tr><tr><td>0b1111</td><td>0b100</td><td>0b0000</td><td>0b0000</td><td>0b000</td></tr></table><p class="pseudocode">
if PSTATE.EL == EL0 then
    UNDEFINED;
elsif PSTATE.EL == EL1 then
    if EL2Enabled() &amp;&amp; !ELUsingAArch32(EL2) &amp;&amp; HSTR_EL2.T0 == '1' then
        AArch64.AArch32SystemAccessTrap(EL2, 0x03);
    elsif EL2Enabled() &amp;&amp; ELUsingAArch32(EL2) &amp;&amp; HSTR.T0 == '1' then
        AArch32.TakeHypTrapException(0x03);
    else
        UNDEFINED;
elsif PSTATE.EL == EL2 then
    VPIDR = R[t];
elsif PSTATE.EL == EL3 then
    if !HaveEL(EL2) then
        //no operation
    elsif SCR.NS == '0' then
        UNDEFINED;
    else
        VPIDR = R[t];
              </p><h4 class="assembler">MRC{&lt;c>}{&lt;q>} &lt;coproc>, {#}&lt;opc1>, &lt;Rt>, &lt;CRn>, &lt;CRm>{, {#}&lt;opc2>}</h4><table class="access_instructions"><tr><th>coproc</th><th>opc1</th><th>CRn</th><th>CRm</th><th>opc2</th></tr><tr><td>0b1111</td><td>0b000</td><td>0b0000</td><td>0b0000</td><td>0b000</td></tr></table><p class="pseudocode">
if PSTATE.EL == EL0 then
    UNDEFINED;
elsif PSTATE.EL == EL1 then
    if EL2Enabled() &amp;&amp; !ELUsingAArch32(EL2) &amp;&amp; HSTR_EL2.T0 == '1' then
        AArch64.AArch32SystemAccessTrap(EL2, 0x03);
    elsif EL2Enabled() &amp;&amp; ELUsingAArch32(EL2) &amp;&amp; HSTR.T0 == '1' then
        AArch32.TakeHypTrapException(0x03);
    elsif EL2Enabled() &amp;&amp; !ELUsingAArch32(EL2) then
        return VPIDR_EL2&lt;31:0>;
    elsif EL2Enabled() &amp;&amp; ELUsingAArch32(EL2) then
        return VPIDR;
    else
        return MIDR;
elsif PSTATE.EL == EL2 then
    return MIDR;
elsif PSTATE.EL == EL3 then
    return MIDR;
              </p></div><br/><br/><hr/><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><p class="versions"><ins>13</ins><del>27</del>/<ins>12</ins><del>09</del>/2019 <ins>15</ins><del>18</del>:<ins>13</ins><del>48</del>; <ins>391b5248b29fb2f001ef74792eaacbd6fc72f211</ins><del>6134483bd14dc8c12a99c984cbfe3431cc1c9707</del></p><p class="copyconf">Copyright © 2010-2019 Arm Limited or its affiliates. All rights reserved. This document is Non-Confidential.</p><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old">(old) </td><td class="explain">htmldiff from-</td><td class="new">(new) </td></tr></tbody></table></div></body></html>
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><title>GICD_IROUTER&lt;n></title><link href="insn.css" rel="stylesheet" type="text/css"/></head><body><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old">(old) </td><td class="explain">htmldiff from-</td><td class="new">(new) </td></tr></tbody></table></div><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><hr/><h1 class="register-section">GICD_IROUTER&lt;n>, Interrupt Routing Registers, n =
      32 - 1019</h1><p>The GICD_IROUTER&lt;n> characteristics are:</p><h2>Purpose</h2><p>When affinity routing is enabled, provides routing information for the SPI with INTID n.</p><h2>Configuration</h2><p></p><p><del>RW fields in this register reset to architecturally </del><span class="arm-defined-word"><del>UNKNOWN</del></span><del> values.</del></p><p>These registers are available in all configurations of the GIC. If the GIC implementation supports two Security states, these registers are Common.</p><p>The maximum value of n is given by (32*(GICD_TYPER.ITLinesNumber+1) - 1).  <a href="ext-gicd_iroutern.html">GICD_IROUTER&lt;n></a> registers where n=0 to 31 are reserved.</p><h2>Attributes</h2><p>GICD_IROUTER&lt;n> is a 64-bit register.</p><h2>Field descriptions</h2><p>The GICD_IROUTER&lt;n> bit assignments are:</p><table class="regdiagram"><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr class="firstrow"><td class="lr" colspan="24"><a href="#0_63">RES0</a></td><td class="lr" colspan="8"><a href="#Aff3_39">Aff3</a></td></tr><tr class="firstrow"><td class="lr" colspan="1"><a href="#Interrupt_Routing_Mode_31">Interrupt_Routing_Mode</a></td><td class="lr" colspan="7"><a href="#0_30">RES0</a></td><td class="lr" colspan="8"><a href="#Aff2_23">Aff2</a></td><td class="lr" colspan="8"><a href="#Aff1_15">Aff1</a></td><td class="lr" colspan="8"><a href="#Aff0_7">Aff0</a></td></tr></tbody><tfoot><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></tfoot></table><div class="text_before_fields"></div><h4 id="0_63">
                Bits [63:40]
              </h4><p>Reserved, <span class="arm-defined-word">RES0</span>.</p><h4 id="Aff3_39">Aff3, bits [39:32]
                  </h4><p>Affinity level 3, the least significant affinity level field.</p><p>This field resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="Interrupt_Routing_Mode_31">Interrupt_Routing_Mode, bit [31]
              </h4><p>Interrupt Routing Mode. Defines how SPIs are routed in an affinity hierarchy:</p><table class="valuetable"><tr><th>Interrupt_Routing_Mode</th><th>Meaning</th></tr><tr><td class="bitfield">0b0</td><td><p>Interrupts routed to the PE specified by a.b.c.d. In this routing, a, b, c, and d are the values of fields Aff3, Aff2, Aff1, and Aff0 respectively.</p></td></tr><tr><td class="bitfield">0b1</td><td><p>Interrupts routed to any PE defined as a participating node.</p></td></tr></table><p>If GICD_IROUTER&lt;n>.IRM == 0 and the affinity path does not correspond to an implemented PE, then if the corresponding interrupt becomes pending it will not be forwarded to any PE and will remain pending.</p><p>In implementations that do not require 1 of N distribution of SPIs, this bit might be RAZ/WI.</p><p>When this bit is set to 1, GICD_IROUTER&lt;n>.{Aff3, Aff2, Aff1, Aff0} are <span class="arm-defined-word">UNKNOWN</span>.</p><div class="note"><span class="note-header">Note</span><p>An implementation might choose to make the Aff&lt;n> fields RO when this field is 1.</p></div><p>This field resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="0_30">
                Bits [30:24]
              </h4><p>Reserved, <span class="arm-defined-word">RES0</span>.</p><h4 id="Aff2_23">Aff2, bits [23:16]
                  </h4><p>Affinity level 2, an intermediate affinity level field.</p><p>This field resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="Aff1_15">Aff1, bits [15:8]
                  </h4><p>Affinity level 1, an intermediate affinity level field.</p><p>This field resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="Aff0_7">Aff0, bits [7:0]
                  </h4><p>Affinity level 0, the most significant affinity level field.</p><p>This field resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><div class="text_after_fields"><p>For an SPI with INTID m:</p><ul><li>The corresponding GICD_IROUTER&lt;n> register number, n, is given by n = m.
</li><li>The offset of the GICD_IROUTER&lt;n> register is <span class="hexnumber">0x6000</span> + 8n.
</li></ul></div><h2>Accessing the GICD_IROUTER&lt;n></h2><p>These registers are used only when affinity routing is enabled. When affinity routing is not enabled:</p><ul><li>These registers are <span class="arm-defined-word">RES0</span>. An implementation is permitted to make the register RAZ/WI in this case.
</li><li>The <a href="ext-gicd_itargetsrn.html">GICD_ITARGETSR&lt;n></a> registers provide interrupt routing information.
</li></ul><div class="note"><span class="note-header">Note</span><p>When affinity routing becomes enabled for a Security state (for example, following a reset or following a write to <a href="ext-gicd_ctlr.html">GICD_CTLR</a>) the value of all writeable fields in this register is <span class="arm-defined-word">UNKNOWN</span> for that Security state. When the group of an interrupt changes so the ARE setting for the interrupt changes to 1, the value of this register is <span class="arm-defined-word">UNKNOWN</span> for that interrupt.</p></div><p>If <a href="ext-gicd_ctlr.html">GICD_CTLR</a>.DS==0, unless the <a href="ext-gicd_nsacrn.html">GICD_NSACR&lt;n></a> registers permit Non-secure software to control Group 0 and Secure Group 1 interrupts, any GICD_IROUTER&lt;n> registers that correspond to Group 0 or Secure Group 1 interrupts are accessible only by Secure accesses and are RAZ/WI to Non-secure accesses.</p><div class="note"><span class="note-header">Note</span><p>For each interrupt, a GIC implementation might support fewer than 256 values for an affinity level. In this case, some bits of the corresponding affinity level field might be RO.
Implementations must ensure that an interrupt that is pending at the time of the write uses either the old value or the new value and must ensure that the interrupt is neither lost nor handled more than one time. The effect of the change must be visible in finite time.</p></div><h4>GICD_IROUTER&lt;n> can be accessed through the memory-mapped interfaces:</h4><table class="info"><tr><th>Component</th><th>Offset</th><th>Instance</th></tr><tr><td>GIC Distributor</td><td><span class="hexnumber">0x6000</span> + 8n</td><td>GICD_IROUTER&lt;n></td></tr></table><p>This interface is accessible as follows:</p><ul><li>When GICD_CTLR.DS == 0b0
            accesses to this register are <span class="access_level">RW</span>.
          </li><li>When IsAccessSecure()
            accesses to this register are <span class="access_level">RW</span>.
          </li><li>When !IsAccessSecure()
            accesses to this register are <span class="access_level">RW</span>.
          </li></ul><br/><br/><hr/><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><p class="versions"><ins>13</ins><del>27</del>/<ins>12</ins><del>09</del>/2019 <ins>15</ins><del>18</del>:<ins>13</ins><del>48</del>; <ins>391b5248b29fb2f001ef74792eaacbd6fc72f211</ins><del>6134483bd14dc8c12a99c984cbfe3431cc1c9707</del></p><p class="copyconf">Copyright Â© 2010-2019 Arm Limited or its affiliates. All rights reserved. This document is Non-Confidential.</p><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old">(old) </td><td class="explain">htmldiff from-</td><td class="new">(new) </td></tr></tbody></table></div></body></html>